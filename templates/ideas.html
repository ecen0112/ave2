{% extends "base.html" %}
{% block title %}Date Ideas - Our Journey{% endblock %}
{% block content %}
<h1 class="page-title">Date Ideas</h1>

<div class="content-grid">
  <article class="card-3d">
    <div class="card-inner">
      <h3>Add Idea</h3>
      {% if session.get('role') == 'admin' %}
      <form method="post" class="stack">
        <input name="idea" placeholder="A romantic idea..." required>
        <button class="btn" type="submit">Add Idea</button>
      </form>
      {% else %}
        <p class="muted">Only admin can add ideas.</p>
      {% endif %}
    </div>
  </article>

  <article class="card-3d" style="grid-column: 1 / -1;">
    <div class="card-inner">
      <h3>All Ideas</h3>
      {% if ideas %}
        <div class="stack">
          {% for idea in ideas %}
            <div class="note-card">
              <p>{{ idea }}</p>
              {% if session.get('role') == 'admin' %}
                <form method="post" action="{{ url_for('delete_idea', idx=loop.index0) }}" onsubmit="return confirm('Delete idea?')">
                  <button class="btn" type="submit" style="margin-top:10px">Delete</button>
                </form>
              {% endif %}
            </div>
          {% endfor %}
        </div>
      {% else %}
        <p class="muted">No ideas yet.</p>
      {% endif %}
    </div>
  </article>
</div>
{% endblock %}
